# Métricas

O coeficiente de correlação é uma medida estatística que quantifica a força e a direção da relação linear entre duas variáveis. Ele indica como duas variáveis estão relacionadas e se movem em conjunto. Existem vários tipos de coeficientes de correlação, sendo o mais comum o coeficiente de correlação de Pearson, representado pela letra "r".

Propriedades do coeficiente de correlação de Pearson:
Valores variam entre -1 e 1:

- 1: Correlação positiva perfeita, indicando que conforme uma variável aumenta, a outra também aumenta de forma linear.

- 0: Nenhuma correlação linear entre as variáveis.

- -1: Correlação negativa perfeita, indicando que conforme uma variável aumenta, a outra diminui de forma linear.

Interpretação dos valores:

Correlação positiva: Quando 𝑟>0
- r>0, indica que as variáveis tendem a aumentar juntas.

Correlação negativa: Quando 𝑟<0
- r<0, indica que quando uma variável aumenta, a outra tende a diminuir.

Força da correlação: Quanto mais próximo de 1 ou -1, mais forte é a correlação.

O coeficiente de correlação é útil em análise de dados para entender relações entre variáveis, mas não implica causalidade.

## Educação vs Economia

1ª - IDEB vs PIB cidade (OK)
2ª - Tx. de Aprovação vs PIB da cidade
3ª - Tx. de Reprovação vs PIB da cidade
4ª - Tx. de Abandono vs PIB da cidade

Variação do IDEB = IDEB Final - IDEB Inicial
Tx. Variação = (Variação do IDEB * 100) / IDEB Inicial


### TODO

1 - Padronizar nomes
2 - Descobrir como adicionar o IDEB *(DONE)*
3 - Padronizar constraints (nomes)
4 - Criar Índices para as foreign keys

3 - Adicionar constraints restantes (NN, UN, FK, etc...)
    
    - Primary Key Constraint: PK_{TABLE_NAME}
    
    - Foreign Key Constraint: FK_{COLUMN}_{PARENT_TABLE}_{CHILD_TABLE}
    
    - Not Null Constraint: NN_{COLUMN}_{TABLE_NAME} *OK*
    
    - Unique Constraint: UN_{COLUMN}_{TABLE_NAME}

    - Index Constraint: IDX_{MOTIVE}_{COLUMN}_{TABLE_NAME}

    - Sequence: SEQ_{COLUMN}_{TABLE_NAME}

4264,2707206,Poço das Trincheiras,2005,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,2.4

4266,2707206,Poço das Trincheiras,2005,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,1.9

4269,2707206,Poço das Trincheiras,2007,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,2.6

4271,2707206,Poço das Trincheiras,2007,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,2.4

4274,2707206,Poço das Trincheiras,2009,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,0.0

4276,2707206,Poço das Trincheiras,2009,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,2.8

4279,2707206,Poço das Trincheiras,2011,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,3.0

4281,2707206,Poço das Trincheiras,2011,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,2.9

4284,2707206,Poço das Trincheiras,2013,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,0.0

4286,2707206,Poço das Trincheiras,2013,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,4.0

4289,2707206,Poço das Trincheiras,2015,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,0.0

4291,2707206,Poço das Trincheiras,2015,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,3.9

4294,2707206,Poço das Trincheiras,2017,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,0.0
4295,2707206,Poço das Trincheiras,2017,IDEB,Estadual,Ensino Médio,3.1

4297,2707206,Poço das Trincheiras,2017,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,4.2

4301,2707206,Poço das Trincheiras,2019,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,0.0
4302,2707206,Poço das Trincheiras,2019,IDEB,Estadual,Ensino Médio,3.2

4304,2707206,Poço das Trincheiras,2019,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,4.4

4308,2707206,Poço das Trincheiras,2021,IDEB,Estadual,Ensino Fundamental - Anos Iniciais,0.0
4309,2707206,Poço das Trincheiras,2021,IDEB,Estadual,Ensino Médio,2.7

4311,2707206,Poço das Trincheiras,2021,IDEB,Municipal,Ensino Fundamental - Anos Iniciais,5.0


CREATE USER C##OLAP IDENTIFIED BY "olap";
GRANT DBA TO C##OLAP;

-- Generated by Oracle SQL Developer Data Modeler 23.1.0.087.0806
--   at:        2024-10-28 21:42:39 BRT
--   site:      Oracle Database 12cR2
--   type:      Oracle Database 12cR2



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE C##OLAP.dim_esfera_publica (
    sk_esfera_publica  NUMBER(1) NOT NULL,
    nom_esfera_publica VARCHAR2(10 CHAR)
        CONSTRAINT nn_nom_esfera_publica_dim_esfera_publica NOT NULL
);

ALTER TABLE C##OLAP.dim_esfera_publica ADD CONSTRAINT pk_dim_esfera_publica PRIMARY KEY ( sk_esfera_publica );

ALTER TABLE C##OLAP.dim_esfera_publica ADD CONSTRAINT un_nom_esfera_pubilica_dim_esfera_publica UNIQUE ( nom_esfera_publica );

CREATE TABLE C##OLAP.dim_municipio (
    sk_municipio  NUMBER(7) NOT NULL,
    nom_municipio VARCHAR2(50 CHAR)
        CONSTRAINT nn_nom_municipio_dim_municipio NOT NULL
);

ALTER TABLE C##OLAP.dim_municipio ADD CONSTRAINT pk_dim_municipio PRIMARY KEY ( sk_municipio );

ALTER TABLE C##OLAP.dim_municipio ADD CONSTRAINT un_nom_municipio_dim_municipio UNIQUE ( nom_municipio );

CREATE TABLE C##OLAP.dim_tempo (
    sk_tempo NUMBER(4) NOT NULL,
    ano      NUMBER(4)
        CONSTRAINT nn_ano_dim_tempo NOT NULL
);

ALTER TABLE C##OLAP.dim_tempo ADD CONSTRAINT pk_dim_tempo PRIMARY KEY ( sk_tempo );

ALTER TABLE C##OLAP.dim_tempo ADD CONSTRAINT un_ano_dim_tempo UNIQUE ( ano );

CREATE TABLE C##OLAP.dim_tipo_ensino (
    sk_tipo_ensino  NUMBER(2) NOT NULL,
    nom_tipo_ensino VARCHAR2(100)
        CONSTRAINT nn_nom_tipo_ensino_dim_tipo_ensino NOT NULL
);

ALTER TABLE C##OLAP.dim_tipo_ensino ADD CONSTRAINT pk_dim_tipo_ensino PRIMARY KEY ( sk_tipo_ensino );

ALTER TABLE C##OLAP.dim_tipo_ensino ADD CONSTRAINT un_nom_tipo_ensino_dim_tipo_ensino UNIQUE ( nom_tipo_ensino );

CREATE TABLE C##OLAP.tab_fato_ideb (
    sk_municipio      NUMBER(7) NOT NULL,
    sk_esfera_publica NUMBER(1) NOT NULL,
    sk_tipo_ensino    NUMBER(2) NOT NULL,
    sk_tempo          NUMBER(4) NOT NULL,
    val_ideb          NUMBER(2, 1)
        CONSTRAINT nn_val_ideb_tab_fato_ideb NOT NULL
);

CREATE INDEX C##OLAP.idx_fk_sk_municipio_tab_fato_ideb ON
    C##OLAP.tab_fato_ideb (
        sk_municipio
    ASC );

CREATE INDEX C##OLAP.idx_fk_sk_esfera_publica_tab_fato_ideb ON
    C##OLAP.tab_fato_ideb (
        sk_esfera_publica
    ASC );

CREATE INDEX C##OLAP.idx_fk_sk_tipo_ensino_tab_fato_ideb ON
    C##OLAP.tab_fato_ideb (
        sk_tipo_ensino
    ASC );

CREATE INDEX C##OLAP.idx_fk_sk_tempo_tab_fato_ideb ON
    C##OLAP.tab_fato_ideb (
        sk_tempo
    ASC );

ALTER TABLE C##OLAP.tab_fato_ideb
    ADD CONSTRAINT pk_tab_fato_ideb PRIMARY KEY ( sk_municipio,
                                                  sk_esfera_publica,
                                                  sk_tipo_ensino,
                                                  sk_tempo );

CREATE TABLE C##OLAP.tab_fato_pib (
    sk_municipio NUMBER(7) NOT NULL,
    sk_tempo     NUMBER(4) NOT NULL,
    val_pib      NUMBER(10, 1)
        CONSTRAINT nn_val_pib_tab_fato_pib NOT NULL
);

CREATE INDEX C##OLAP.idx_fk_sk_municipio_tab_fato_pib ON
    C##OLAP.tab_fato_pib (
        sk_municipio
    ASC );

CREATE INDEX C##OLAP.idx_fk_sk_tempo_tab_fato_pib ON
    C##OLAP.tab_fato_pib (
        sk_tempo
    ASC );

ALTER TABLE C##OLAP.tab_fato_pib ADD CONSTRAINT pk_tab_fato_pib PRIMARY KEY ( sk_municipio,
                                                                           sk_tempo );

ALTER TABLE C##OLAP.tab_fato_ideb
    ADD CONSTRAINT fk_sk_esfera_publica_dim_esfera_publica_tab_fato_ideb FOREIGN KEY ( sk_esfera_publica )
        REFERENCES C##OLAP.dim_esfera_publica ( sk_esfera_publica );

ALTER TABLE C##OLAP.tab_fato_ideb
    ADD CONSTRAINT fk_sk_municipio_dim_municipio_tab_fato_ideb FOREIGN KEY ( sk_municipio )
        REFERENCES C##OLAP.dim_municipio ( sk_municipio );

ALTER TABLE C##OLAP.tab_fato_pib
    ADD CONSTRAINT fk_sk_municipio_dim_municipio_tab_fato_pib FOREIGN KEY ( sk_municipio )
        REFERENCES C##OLAP.dim_municipio ( sk_municipio );

ALTER TABLE C##OLAP.tab_fato_ideb
    ADD CONSTRAINT fk_sk_tempo_dim_tempo_tab_fato_ideb FOREIGN KEY ( sk_tempo )
        REFERENCES C##OLAP.dim_tempo ( sk_tempo );

ALTER TABLE C##OLAP.tab_fato_pib
    ADD CONSTRAINT fk_sk_tempo_dim_tempo_tab_fato_pib FOREIGN KEY ( sk_tempo )
        REFERENCES C##OLAP.dim_tempo ( sk_tempo );

ALTER TABLE C##OLAP.tab_fato_ideb
    ADD CONSTRAINT fk_sk_tipo_ensino_dim_tipo_ensino_tab_fato_ideb FOREIGN KEY ( sk_tipo_ensino )
        REFERENCES C##OLAP.dim_tipo_ensino ( sk_tipo_ensino );

CREATE SEQUENCE C##OLAP.seq_sk_esfera_publica_dim_esfera_publica START WITH 1 NOCACHE ORDER;

CREATE OR REPLACE TRIGGER C##OLAP.trg_seq_sk_esfera_publica_dim_esfera_publica BEFORE
    INSERT ON C##OLAP.dim_esfera_publica
    FOR EACH ROW
    WHEN ( new.sk_esfera_publica IS NULL )
BEGIN
    :new.sk_esfera_publica := C##OLAP.seq_sk_esfera_publica_dim_esfera_publica.nextval;
END;
/

CREATE SEQUENCE C##OLAP.seq_sk_municipio_dim_municipio START WITH 1 NOCACHE ORDER;

CREATE OR REPLACE TRIGGER C##OLAP.trg_seq_sk_municipio_dim_municipio BEFORE
    INSERT ON C##OLAP.dim_municipio
    FOR EACH ROW
    WHEN ( new.sk_municipio IS NULL )
BEGIN
    :new.sk_municipio := C##OLAP.seq_sk_municipio_dim_municipio.nextval;
END;
/

CREATE SEQUENCE C##OLAP.seq_sk_tempo_dim_tempo START WITH 1 NOCACHE ORDER;

CREATE OR REPLACE TRIGGER C##OLAP.trg_seq_sk_tempo_dim_tempo BEFORE
    INSERT ON C##OLAP.dim_tempo
    FOR EACH ROW
    WHEN ( new.sk_tempo IS NULL )
BEGIN
    :new.sk_tempo := C##OLAP.seq_sk_tempo_dim_tempo.nextval;
END;
/

CREATE SEQUENCE C##OLAP.seq_sk_tipo_ensino_dim_tipo_ensino START WITH 1 NOCACHE ORDER;

CREATE OR REPLACE TRIGGER C##OLAP.trg_seq_sk_tipo_ensino_dim_tipo_ensino BEFORE
    INSERT ON C##OLAP.dim_tipo_ensino
    FOR EACH ROW
    WHEN ( new.sk_tipo_ensino IS NULL )
BEGIN
    :new.sk_tipo_ensino := C##OLAP.seq_sk_tipo_ensino_dim_tipo_ensino.nextval;
END;
/



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             6
-- CREATE INDEX                             6
-- ALTER TABLE                             16
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           4
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          4
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0


DELETE FROM C##OLAP.TAB_FATO_PIB;
DELETE FROM C##OLAP.TAB_FATO_IDEB;